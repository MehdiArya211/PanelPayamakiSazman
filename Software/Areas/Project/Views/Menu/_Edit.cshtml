@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model DTO.Project.Menus.MenuFormViewModel

<form asp-area="Admin" asp-controller="Menu" asp-action="Edit" class="edit-form">
    @Html.AntiForgeryToken()
    <input type="hidden" asp-for="EditModel.Id" />

    <div class="modal-header">
        <h5 class="modal-title">
            ویرایش منو (@Model.EditModel.Title)
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
    </div>

    <div class="modal-body">
        <div class="row g-3">
            <!-- کلید -->
            <div class="col-12 col-sm-6">
                <label class="form-label required">کلید منو (Key)</label>
                <input asp-for="EditModel.Key" class="form-control zbm-control" required />
                <span asp-validation-for="EditModel.Key" class="text-danger small d-block mt-1"></span>
            </div>

            <!-- عنوان -->
            <div class="col-12 col-sm-6">
                <label class="form-label required">عنوان منو</label>
                <input asp-for="EditModel.Title" class="form-control zbm-control" required />
                <span asp-validation-for="EditModel.Title" class="text-danger small d-block mt-1"></span>
            </div>

            <!-- آیکون -->
            <div class="col-12 col-sm-6">
                <label class="form-label">آیکون</label>
                <input asp-for="EditModel.Icon" class="form-control zbm-control" />
                <span asp-validation-for="EditModel.Icon" class="text-danger small d-block mt-1"></span>
            </div>

            <!-- مسیر -->
            <div class="col-12 col-sm-6">
                <label class="form-label">مسیر (Route Key)</label>
                <input asp-for="EditModel.RouteKey" class="form-control zbm-control" />
                <span asp-validation-for="EditModel.RouteKey" class="text-danger small d-block mt-1"></span>
            </div>

            <!-- ترتیب -->
            <div class="col-12 col-sm-6">
                <label class="form-label required">ترتیب نمایش</label>
                <input asp-for="EditModel.Order" type="number" min="1"
                       class="form-control zbm-control" required />
                <span asp-validation-for="EditModel.Order" class="text-danger small d-block mt-1"></span>
            </div>

            <!-- والد -->
            <div class="col-12 col-sm-6">
                <label class="form-label">منوی والد</label>
                <select asp-for="EditModel.ParentId" class="form-select zbm-control"
                        asp-items="Model.ParentOptions">
                </select>
                <span asp-validation-for="EditModel.ParentId" class="text-danger small d-block mt-1"></span>
            </div>

            <!-- وضعیت -->
            <div class="col-12 col-sm-6">
                <label class="form-label">وضعیت</label>
                <select asp-for="EditModel.IsActive" class="form-select zbm-control"
                        asp-items="Model.ActiveOptions">
                </select>
                <span asp-validation-for="EditModel.IsActive" class="text-danger small d-block mt-1"></span>
            </div>
        </div>
        <div class="text-danger error mt-2"></div>
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-light" data-bs-dismiss="modal">انصراف</button>
        <button type="submit" class="btn btn-primary zbm-btn-save"
                onclick="menu.edit.save(event)">
            <i class="bi bi-check-lg"></i> ذخیره تغییرات
        </button>
    </div>
</form>